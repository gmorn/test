(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{1917:function(e,t,i){Promise.resolve().then(i.bind(i,3171))},7869:function(e,t,i){"use strict";i.d(t,{Q:function(){return n}});let n="/api/v1"},1915:function(e,t,i){"use strict";i.d(t,{W2:function(){return s},nz:function(){return a},tq:function(){return l}});var n=i(1769);let a=(0,n.vJ)(["*{margin:0;padding:0;box-sizing:border-box;}body{min-height:100vh;position:relative;padding-bottom:260px;","{padding-bottom:210px;}","{padding-bottom:380px;}","{padding-bottom:690px;}}h1{","}h2{","}h3{","}p{","}a{text-decoration:none;color:","}"],e=>e.theme.mediaQueries.tabletLandscape,e=>e.theme.mediaQueries.tabletPortrait,e=>e.theme.mediaQueries.mobile,e=>e.theme.typography.h1,e=>e.theme.typography.h2,e=>e.theme.typography.h3,e=>e.theme.typography.paragraph,e=>e.theme.colors.black),s=n.ZP.div.withConfig({componentId:"sc-d8fbbe85-0"})(["width:90%;max-width:1250px;margin:0 auto;"]),l=n.ZP.div.withConfig({componentId:"sc-d8fbbe85-1"})(["padding-left:260px;"])},6909:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(3827);i(4090);var a=i(1769);let s=a.ZP.button.withConfig({componentId:"sc-207a2a98-0"})(["padding:15px 20px;background:",";color:",";border:none;border-radius:12px;font-weight:500;font-size:18px;cursor:pointer;"," ","{width:100%;padding:10px;font-size:16px;font-weight:500;}&:disabled{cursor:default;opacity:0.8;}"],e=>e.theme.colors.green,e=>e.theme.colors.white,e=>!e.fullWidth&&(0,a.iv)(["width:100%;"]),e=>e.theme.mediaQueries.tabletPortrait);function l(e){let{onClick:t,children:i,disabled:a,fullWidth:l}=e;return(0,n.jsx)(s,{onClick:t,disabled:a,fullWidth:!!l&&l,children:i})}},8857:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var n=i(3827);let a=i(1769).ZP.input.withConfig({componentId:"sc-338bebdd-0"})(["width:100%;padding:15px 25px;border-radius:12px;font-size:18px;border:1px solid ",";outline:none;","{padding:12px 18px;font-size:14px;}&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"],e=>e.theme.colors.black,e=>e.theme.mediaQueries.mobile);function s(e){let{onChange:t,value:i,placeholder:s,type:l}=e;return(0,n.jsx)(a,{onChange:t,value:i,placeholder:s,type:l||"text"})}},5932:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(3827),a=i(1769);let s="33px",l=(0,a.F4)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),r=a.ZP.div.withConfig({componentId:"sc-7366f5a8-0"})(["position:relative;display:flex;align-items:center;justify-content:center;width:",";height:",";img{&:first-child{animation:"," 1s linear infinite;}position:absolute;}"],s,s,l);function o(e){let{}=e;return(0,n.jsxs)(r,{children:[(0,n.jsx)("img",{src:"/loader_1.svg",alt:"loader"}),(0,n.jsx)("img",{src:"/loader_2.svg",alt:"loader"})]})}},6905:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(3827);i(4090);var a=i(1769);let s=a.ZP.div.withConfig({componentId:"sc-4102f45a-0"})(["z-index:3;position:fixed;width:100vw;height:100vh;top:0;left:0;"," .bg{width:100%;height:100%;opacity:0.7;background:",";}.content{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:25px;border-radius:12px;background:",";}.close{position:absolute;cursor:pointer;top:15px;right:-50px;}","{.bg{display:none;}.content{top:0;left:0;transform:none;border-radius:0;width:100vw;height:100vh;padding-top:40px;}.white{display:none;}.close{position:absolute;top:15px;right:15px;z-index:4;}}"],e=>!e.modal&&(0,a.iv)(["display:none;"]),e=>e.theme.colors.black,e=>e.theme.colors.white,e=>e.theme.mediaQueries.mobile);function l(e){let{modal:t,setModal:i,children:a}=e;return(0,n.jsxs)(s,{modal:t,children:[(0,n.jsx)("div",{className:"bg",onClick:()=>i(!1)}),(0,n.jsxs)("div",{className:"content",children:[a,(0,n.jsx)("img",{src:"/close-black.svg",alt:"",className:"close",onClick:()=>i(!1)}),(0,n.jsx)("img",{src:"/white close.svg",alt:"",className:"close white",onClick:()=>i(!1)})]})]})}},3171:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return I}});var n=i(3827),a=i(1915),s=i(6909),l=i(8857),r=i(5932),o=i(6905),c=i(4461),d=i(4090),h=i(1769);let p=h.ZP.textarea.withConfig({componentId:"sc-2950300a-0"})(["height:120px;width:100%;resize:none;border-radius:12px;padding:15px 25px;font-size:18px;border:1px solid ",";outline:none;font-family:'Roboto Flex',sans-serif;overflow:-moz-scrollbars-none;scrollbar-width:none;"],e=>e.theme.colors.black);function u(e){let{onChange:t,value:i,placeholder:a}=e;return(0,n.jsx)(p,{value:i,placeholder:a,onChange:t})}let x=h.ZP.div.withConfig({componentId:"sc-9c2b402-0"})(["display:flex;flex-direction:column;gap:20px;.button-block{display:flex;gap:20px;}"]),m=h.ZP.div.withConfig({componentId:"sc-9c2b402-1"})(["cursor:pointer;width:350px;height:200px;.icon{width:350px;height:200px;object-fit:cover;border-radius:12px;}input{display:none;}.file-input{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:10px;border-radius:12px;border:2px dashed ",";width:350px;height:200px;opacity:0.6;}"],e=>e.theme.textColor),g=h.ZP.div.withConfig({componentId:"sc-9c2b402-2"})(["display:flex;flex-direction:column;gap:20px;align-items:end;"]),f=h.ZP.div.withConfig({componentId:"sc-9c2b402-3"})(["width:100%;height:100%;"," .container{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0.5;background:",";z-index:5;border-radius:12px;}.loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:6;width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:",";border-radius:12px;","}"],e=>e.loader?(0,h.iv)(["display:block;"]):(0,h.iv)(["display:none;"]),e=>e.theme.colors.white,e=>e.theme.colors.white,e=>e.theme.shadow);function b(e){let{getServices:t,modal:i,setModal:a}=e,[h,p]=(0,d.useState)({Name:"",FullDesc:"",OldPrice:""}),[b,j]=(0,d.useState)(null);(0,d.useEffect)(()=>{p({Name:"",FullDesc:"",OldPrice:""}),j(null),O.current&&(O.current.value="")},[i]);let[v,w]=(0,d.useState)(!1),[y,Z]=(0,d.useState)(""),[k,C]=(0,d.useState)(!1),[P,N]=(0,d.useState)(!0),I=e=>{p({...h,Name:e.target.value})},S=e=>{p({...h,FullDesc:e.target.value})},F=e=>{p({...h,OldPrice:e.target.value})},O=(0,d.useRef)(null),D=()=>{var e;null===(e=O.current)||void 0===e||e.click()},z=async()=>{C(!0);let e=await c.Z.create(h);if(200===e.status&&b)try{let i=await c.Z.addImage(e.data.Id,b);200===i.status?(t(),a(!1)):(Z(e.data),w(!0))}catch(e){Z("Нет папки images"),w(!0)}else w(!0),Z(e.data);C(!1)};return(0,d.useEffect)(()=>{h.FullDesc&&h.Name&&h.OldPrice&&b?N(!1):N(!0)},[h,b]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{modal:i,setModal:a,children:[(0,n.jsxs)(f,{loader:k,children:[(0,n.jsx)("div",{className:"container"}),(0,n.jsx)("div",{className:"loader",children:(0,n.jsx)(r.Z,{})})]}),(0,n.jsxs)(x,{children:[(0,n.jsx)("h3",{children:"Новый товар"}),(0,n.jsxs)(m,{children:[b?(0,n.jsx)("img",{src:URL.createObjectURL(b),alt:"Selected",className:"icon",onClick:D}):(0,n.jsx)("div",{onClick:D,className:"file-input",children:(0,n.jsx)("p",{children:"Выбрать иконку"})}),(0,n.jsx)("input",{ref:O,type:"file",accept:"image/*",onChange:()=>{var e,t;let i=null===(t=O.current)||void 0===t?void 0:null===(e=t.files)||void 0===e?void 0:e[0];i&&i.type.startsWith("image/")&&j(i)}})]}),(0,n.jsx)(l.Z,{value:h.Name,onChange:e=>I(e),placeholder:"Название услуги"}),(0,n.jsx)(l.Z,{value:h.OldPrice,onChange:e=>F(e),placeholder:"Цена на услугу",type:"number"}),(0,n.jsx)(u,{value:h.FullDesc,onChange:e=>S(e),placeholder:"Описание услуги"}),(0,n.jsxs)("div",{className:"button-block",children:[(0,n.jsx)(s.Z,{onClick:()=>a(!1),children:"Отменить"}),(0,n.jsx)(s.Z,{onClick:z,disabled:P,children:"Добавить"})]})]})]}),(0,n.jsx)(o.Z,{modal:v,setModal:w,children:(0,n.jsxs)(g,{children:[(0,n.jsx)("h3",{children:y}),(0,n.jsx)(s.Z,{fullWidth:!0,onClick:()=>w(!1),children:"Закрыть"})]})})]})}let j=h.ZP.div.withConfig({componentId:"sc-e0c9ca93-0"})(["display:flex;flex-direction:column;gap:20px;.button-block{display:flex;gap:20px;}"]),v=h.ZP.div.withConfig({componentId:"sc-e0c9ca93-1"})(["cursor:pointer;width:350px;height:200px;.icon{width:350px;height:200px;object-fit:cover;border-radius:12px;}input{display:none;}.file-input{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:10px;border-radius:12px;border:2px dashed ",";width:350px;height:200px;opacity:0.6;}"],e=>e.theme.textColor),w=h.ZP.div.withConfig({componentId:"sc-e0c9ca93-2"})(["display:flex;flex-direction:column;gap:20px;align-items:end;"]),y=h.ZP.div.withConfig({componentId:"sc-e0c9ca93-3"})(["width:100%;height:100%;"," .container{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0.5;background:",";z-index:5;border-radius:12px;}.loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:6;width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:",";border-radius:12px;","}"],e=>e.loader?(0,h.iv)(["display:block;"]):(0,h.iv)(["display:none;"]),e=>e.theme.colors.white,e=>e.theme.colors.white,e=>e.theme.shadow);function Z(e){let{getServices:t,modal:i,item:a,setModal:h}=e,[p,x]=(0,d.useState)({Name:"",FullDesc:"",OldPrice:""}),[m,g]=(0,d.useState)(null);(0,d.useEffect)(()=>{x({Name:a.Name,FullDesc:a.FullDesc,OldPrice:a.OldPrice.toString()}),g(null)},[i]);let[f,b]=(0,d.useState)(!1),[Z,k]=(0,d.useState)(""),[C,P]=(0,d.useState)(!1),N=e=>{x({...p,Name:e.target.value})},I=e=>{x({...p,FullDesc:e.target.value})},S=e=>{x({...p,OldPrice:e.target.value})},F=(0,d.useRef)(null),O=()=>{var e;null===(e=F.current)||void 0===e||e.click()},D=async()=>{P(!0);let e={...a,Name:p.Name,FullDesc:p.FullDesc,OldPrice:parseInt(p.OldPrice)},i=await c.Z.edit(e,e.Id);200===i.status?m?(await c.Z.deleteImage(a.ImageUrls[0],a.Id),200===(await c.Z.addImage(i.data.Id,m)).status?(t(),h(!1)):(b(!0),k(i.data))):(t(),h(!1)):(b(!0),k(i.data)),P(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{modal:i,setModal:h,children:[(0,n.jsxs)(y,{loader:C,children:[(0,n.jsx)("div",{className:"container"}),(0,n.jsx)("div",{className:"loader",children:(0,n.jsx)(r.Z,{})})]}),(0,n.jsxs)(j,{children:[(0,n.jsx)("h3",{children:"Новый товар"}),(0,n.jsxs)(v,{children:[m?(0,n.jsx)("img",{src:URL.createObjectURL(m),alt:"Selected",className:"icon",onClick:O}):(0,n.jsx)("img",{src:a.ImageUrls[0],alt:"Selected",className:"icon",onClick:O}),(0,n.jsx)("input",{ref:F,type:"file",accept:"image/*",onChange:()=>{var e,t;let i=null===(t=F.current)||void 0===t?void 0:null===(e=t.files)||void 0===e?void 0:e[0];i&&i.type.startsWith("image/")&&g(i)}})]}),(0,n.jsx)(l.Z,{value:p.Name,onChange:e=>N(e),placeholder:"Название услуги"}),(0,n.jsx)(l.Z,{value:p.OldPrice,onChange:e=>S(e),placeholder:"Цена на услугу",type:"number"}),(0,n.jsx)(u,{value:p.FullDesc,onChange:e=>I(e),placeholder:"Описание услуги"}),(0,n.jsxs)("div",{className:"button-block",children:[(0,n.jsx)(s.Z,{onClick:()=>h(!1),children:"Отменить"}),(0,n.jsx)(s.Z,{onClick:D,children:"Сохранить"})]})]})]}),(0,n.jsx)(o.Z,{modal:f,setModal:b,children:(0,n.jsxs)(w,{children:[(0,n.jsx)("h3",{children:Z}),(0,n.jsx)(s.Z,{fullWidth:!0,onClick:()=>b(!1),children:"Закрыть"})]})})]})}let k=h.ZP.div.withConfig({componentId:"sc-18196f53-0"})(["display:flex;flex-direction:column;align-items:start;width:280px;gap:10px;position:relative;justify-content:space-between;border-radius:12px 12px 0 0;overflow:hidden;text-align:justify;.delete-button{position:absolute;top:10px;right:10px;background:",";width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50px;cursor:pointer;}.block{display:flex;flex-direction:column;align-items:start;width:280px;gap:10px;img{width:280px;height:200px;object-fit:cover;}}"],e=>e.theme.colors.white);function C(e){let{item:t,getServices:i}=e,[a,l]=(0,d.useState)(!1),r=async()=>{await c.Z.delete(t.Id),i()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(k,{children:[(0,n.jsxs)("div",{className:"block",children:[(0,n.jsx)("img",{src:"/"+t.ImageUrls[0],alt:""}),(0,n.jsx)("h3",{children:t.Name}),(0,n.jsx)("p",{children:t.FullDesc})]}),(0,n.jsxs)("div",{className:"block",children:[(0,n.jsxs)("h2",{children:["От ",t.OldPrice," руб."]}),(0,n.jsx)(s.Z,{onClick:()=>l(!0),children:"Редактировать"})]}),(0,n.jsx)("div",{className:"delete-button",onClick:r,children:(0,n.jsx)("img",{src:"/image/trash.svg",alt:""})})]}),(0,n.jsx)(Z,{getServices:i,modal:a,setModal:l,item:t})]})}let P=h.ZP.div.withConfig({componentId:"sc-86726fe2-0"})(["padding:35px;.search-block{display:flex;gap:20px;margin:20px 0;.input-block{display:flex;align-items:center;width:100%;img{margin-left:-40px;}}}.list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));justify-items:start;gap:20px;}"]),N=h.ZP.div.withConfig({componentId:"sc-86726fe2-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-width:100px;min-height:100px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px;padding:20px;border-radius:12px;box-shadow:0 0 10px 0 rgba(0,0,0,0.2);"]);function I(e){let{}=e,[t,i]=(0,d.useState)(""),[h,p]=(0,d.useState)(!1),[u,x]=(0,d.useState)([]),[m,g]=(0,d.useState)(!1),[f,j]=(0,d.useState)(!0),[v,w]=(0,d.useState)(!1),[y,Z]=(0,d.useState)(""),[k,I]=(0,d.useState)(!1);(0,d.useEffect)(()=>{S()},[t]);let S=async()=>{g(!1),w(!0);try{let e=await c.Z.get(t);200===e.status?x(e.data.Data):(Z(e.data),I(!0))}catch(e){g(!0)}j(!1),w(!1)};return(0,d.useEffect)(()=>{S()},[]),(0,n.jsxs)(n.Fragment,{children:[f?(0,n.jsx)(N,{children:(0,n.jsx)(r.Z,{})}):(0,n.jsx)(n.Fragment,{children:m?(0,n.jsx)(N,{children:(0,n.jsx)("h2",{children:"Сервер не доступен..."})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.tq,{children:(0,n.jsx)(P,{children:0===u.length&&""===t?(0,n.jsxs)(N,{children:[(0,n.jsx)("h2",{children:"Список товаров пуст"}),(0,n.jsx)(s.Z,{fullWidth:!0,onClick:()=>p(!0),children:"Добавить"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{children:"Услуги"}),(0,n.jsxs)("div",{className:"search-block",children:[(0,n.jsxs)("div",{className:"input-block",children:[(0,n.jsx)(l.Z,{value:t,onChange:e=>i(e.target.value),placeholder:"Введите название услуги"}),(0,n.jsx)("img",{src:"/image/search.svg",alt:""})]}),(0,n.jsx)(s.Z,{fullWidth:!0,onClick:()=>p(!0),children:"Добавить"})]}),v?(0,n.jsx)(N,{children:(0,n.jsx)(r.Z,{})}):0!==u.length?(0,n.jsx)("div",{className:"list",children:u.map((e,t)=>(0,n.jsx)(C,{item:e,getServices:S},t))}):(0,n.jsx)(N,{children:(0,n.jsx)("h3",{children:"Ничего не найдено"})})]})})}),(0,n.jsx)(b,{getServices:S,modal:h,setModal:p})]})}),(0,n.jsxs)(o.Z,{setModal:I,modal:k,children:[(0,n.jsx)("h3",{children:y}),(0,n.jsx)(s.Z,{children:"Закрыть"})]})]})}},4461:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var n=i(7908),a=i(7869);class s{static async get(e){let t=new URLSearchParams;void 0!==e&&""!==e&&t.append("search",e);try{return await n.Z.get("".concat(a.Q,"/items"),{params:t})}catch(e){return e.response}}static async edit(e,t){try{return await n.Z.post("".concat(a.Q,"/items/").concat(t),e)}catch(e){return e.response}}static async create(e){let t={GroupId:0,SubGroupId:0,Name:e.Name,ShortDesc:"",FullDesc:e.FullDesc,PhotosUrl:null,NewPrice:0,OldPrice:parseInt(e.OldPrice),Code:"",Count:0,Meta:[],Visibility:!0,Popular:!1,Hot:!1};try{return await n.Z.post("".concat(a.Q,"/items"),t)}catch(e){return e.response}}static async delete(e){try{return await n.Z.delete("".concat(a.Q,"/items/").concat(e))}catch(e){return e.response}}static async addImage(e,t){let i=new FormData;i.append("file",t);try{return await n.Z.post("".concat(a.Q,"/items/").concat(e,"/images"),i)}catch(e){return e.response}}static async deleteImage(e,t){try{return await n.Z.delete("".concat(a.Q,"/items/").concat(t,"/").concat(e))}catch(e){return e.response}}}}},function(e){e.O(0,[769,908,971,69,744],function(){return e(e.s=1917)}),_N_E=e.O()}]);